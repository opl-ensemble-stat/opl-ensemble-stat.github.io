<!doctype html>
<html>
<head>
	<meta charset="utf-8">
	<title>Loading experiment...</title>
	<meta name="description" content="Experiment loader page.">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<script>
		// test urls for each condition
		var test_urls = [
			"https://oplab.barrios.io/oplab/5d0962a77cfdb4472f02d18a/execute?mode=live&nextType=HIT&nextID=605e411d68466c49a3279048&stimuliFolderID=605caad768466c49a3279017",
			"https://oplab.barrios.io/oplab/5d0962a77cfdb4472f02d18a/execute?mode=live&nextType=HIT&nextID=606362d068466c49a3279078&stimuliFolderID=605cad0168466c49a3279019",
			"https://oplab.barrios.io/oplab/5d0962a77cfdb4472f02d18a/execute?mode=live&nextType=HIT&nextID=606362da68466c49a3279079&stimuliFolderID=605e36cc68466c49a3279030",  // no comma after the last url
			"https://oplab.barrios.io/oplab/5d0962a77cfdb4472f02d18a/execute?mode=live&nextType=HIT&nextID=606362e068466c49a327907a&stimuliFolderID=605e39cb68466c49a3279031",
			"https://oplab.barrios.io/oplab/5d0962a77cfdb4472f02d18a/execute?mode=live&nextType=HIT&nextID=606362e468466c49a327907b&stimuliFolderID=605e3b4868466c49a3279032"
			];
		// random assignment probabilities for each condition, sum of the probabilities should be 1
		var test_prob = [1/5, 1/5, 1/5, 1/5, 1/5];

		var r = Math.random();
		var p = test_prob.length - 1;
		while (r < test_prob.slice(0, p).reduce(function(t, c) { return t + c; }, 0)) {
			p -= 1;
		}
		var test_url = test_urls[p];
		if (window.location.search.length > 0) {
			test_url = test_url + (test_url.includes('?') ? '&' : '?') + window.location.search.substring(1);
		}
	</script>
</head>
<body>
	<p id="loading-message">Loading experiment...</p>

	<script>
		document.addEventListener("DOMContentLoaded", function(e) {
			location.href = test_url;
			setTimeout(function() {
				document.getElementById("loading-message").innerHTML = "<a href=\"" + test_url + "\">Click here</a> to start the experiment.";
			}, 2000);
		});
	</script>
</body>
</html>